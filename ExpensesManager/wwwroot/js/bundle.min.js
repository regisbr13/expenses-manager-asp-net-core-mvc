function Colors(n){for(var t=[];n>0;){var i=Math.floor(Math.random()*255),r=Math.floor(Math.random()*255),u=Math.floor(Math.random()*255);t.push("rgb("+i+","+r+","+u+")");n--}return t}function LoadDataMonthlyExpensesType(){var n=$(".month").val();now=new Date;month=now.getMonth()+1;$.ajax({url:"/Expenses/MonthlyExpensesType",method:"POST",data:{id:month},success:function(n){$("canvas#ExpensesType").remove();$("div.ExpensesType").append('<canvas id="ExpensesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("ExpensesType").getContext("2d"),i=new Chart(t,{type:"pie",data:{labels:n.types,datasets:[{label:"Despesas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Despesas por categoria"}}})}})}function LoadDataCurrent(){now=new Date;month=now.getMonth()+1;$.ajax({url:"/Expenses/MonthlyIncomesExpenses",method:"POST",data:{id:month},success:function(n){$("canvas#IncomesExpenses").remove();$("div.IncomesExpenses").append('<canvas id="IncomesExpenses" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesExpenses").getContext("2d"),i=new Chart(t,{type:"bar",data:{labels:[""],datasets:[{label:"Receitas",backgroundColor:["#27ae60","#c0392b","#00BFFF"],data:[n.incomes]},{label:"Despesas",backgroundColor:"#c0392b",data:[n.expenses]},{label:"Saldo",backgroundColor:"#00BFFF",data:[n.balance]},]},options:{responsive:!0,title:{display:!0,text:"Receitas x Despesas x Saldo"},scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{barPercentage:.6}]}}})}})}function LoadDataMonthlyIncomesType(){var n=$(".month").val();now=new Date;month=now.getMonth()+1;$.ajax({url:"/Incomes/MonthlyIncomesType",method:"POST",data:{id:month},success:function(n){$("canvas#IncomesType").remove();$("div.IncomesType").append('<canvas id="IncomesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesType").getContext("2d"),i=new Chart(t,{type:"doughnut",data:{labels:n.types,datasets:[{label:"Receitas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Receitas por categoria"}}})}})}function LoadDataIncomesExpensesTotal(){$.ajax({url:"/Expenses/IncomesExpensesTotal",method:"POST",success:function(n){new Chart(document.getElementById("Total"),{type:"line",data:{labels:n.months,datasets:[{label:"Receitas",backgroundColor:"#27ae60",borderColor:"#27ae60",data:n.incomes,fill:!1,spanGaps:!1},{label:"Despesas",backgroundColor:"#c0392b",borderColor:"#c0392b",data:n.expenses,fill:!1,spanGaps:!1}]},options:{responsive:!0,title:{display:!0,text:"Receitas e despesas por mÃªs"},scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{barPercentage:.5}]}}})}})}function k(n){var t=n.value.replace(/\D/g,"");t=(t/100).toFixed(2)+"";t=t.replace(".",",");t=t.replace(/(\d)(\d{3})(\d{3}),/g,"$1.$2.$3,");t=t.replace(/(\d)(\d{3}),/g,"$1.$2,");n.value=t}function LoadDataMonthlyExpensesType(){var n=$(".month").val();$.ajax({url:"/Expenses/MonthlyExpensesType",method:"POST",data:{id:1},success:function(n){$("canvas#ExpensesType").remove();$("div.ExpensesType").append('<canvas id="ExpensesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("ExpensesType").getContext("2d"),i=new Chart(t,{type:"pie",data:{labels:n.types,datasets:[{label:"Despesas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Despesas por categoria"}}})}})}function LoadDataIncomesExpenses(){$.ajax({url:"/Expenses/MonthlyIncomesExpenses",method:"POST",data:{id:1},success:function(n){$("canvas#IncomesExpenses").remove();$("div.IncomesExpenses").append('<canvas id="IncomesExpenses" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesExpenses").getContext("2d"),i=new Chart(t,{type:"bar",data:{labels:[""],datasets:[{label:"Receitas",backgroundColor:["#27ae60","#c0392b","#00BFFF"],data:[n.incomes]},{label:"Despesas",backgroundColor:"#c0392b",data:[n.expenses]},{label:"Saldo",backgroundColor:"#00BFFF",data:[n.balance]},]},options:{responsive:!0,title:{display:!0,text:"Receitas x Despesas x Saldo"},scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{barPercentage:.6}]}}})}})}function LoadDataMonthlyIncomesType(){var n=$(".month").val();$.ajax({url:"/Incomes/MonthlyIncomesType",method:"POST",data:{id:1},success:function(n){$("canvas#IncomesType").remove();$("div.IncomesType").append('<canvas id="IncomesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesType").getContext("2d"),i=new Chart(t,{type:"doughnut",data:{labels:n.types,datasets:[{label:"Receitas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Receitas por categoria"}}})}})}$(function(){$(".createExpense").click(function(){$("#modal").load("/Expenses/CreateCurrent",function(){$("#modal").modal()})})});$(function(){$(".createIncome").click(function(){$("#modal").load("/Incomes/CreateCurrent",function(){$("#modal").modal()})})});$(function(){$(".editExpense").click(function(){var n=$(this).attr("data-id");$("#modal").load("/Expenses/Edit?Id="+n,function(){$("#modal").modal()})})});$(function(){$(".editIncome").click(function(){var n=$(this).attr("data-id");$("#modal").load("/Incomes/Edit?Id="+n,function(){$("#modal").modal()})})});$(function(){$(".deleteIncome").click(function(){var n=$(this).attr("data-id");$("#modal").load("/Incomes/Delete?Id="+n,function(){$("#modal").modal()})})});$(function(){$(".deleteExpense").click(function(){var n=$(this).attr("data-id");$("#modal").load("/Expenses/Delete?Id="+n,function(){$("#modal").modal()})})});$(".add").click(function(){$("#modal").load("ExpenseType/Create",function(){$("#modal").modal()})});$(".addIt").click(function(){$("#modal").load("/IncomeType/Create",function(){$("#modal").modal()})});$(document).ready(function(){$(".new").tooltip()});$(".month").on("change",function(){var n=$(".month").val();$.ajax({url:"/Expenses/MonthlyExpensesType",method:"POST",data:{id:n},success:function(n){$("canvas#ExpensesType").remove();$("div.ExpensesType").append('<canvas id="ExpensesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("ExpensesType").getContext("2d"),i=new Chart(t,{type:"pie",data:{labels:n.types,datasets:[{label:"Despesas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Despesas por categoria"}}})}})});$(".month").on("change",function(){var n=$(".month").val();$.ajax({url:"/Expenses/MonthlyIncomesExpenses",method:"POST",data:{id:n},success:function(n){$("canvas#IncomesExpenses").remove();$("div.IncomesExpenses").append('<canvas id="IncomesExpenses" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesExpenses").getContext("2d"),i=new Chart(t,{type:"bar",data:{labels:[""],datasets:[{label:"Receitas",backgroundColor:["#27ae60","#c0392b","#00BFFF"],data:[n.incomes]},{label:"Despesas",backgroundColor:"#c0392b",data:[n.expenses]},{label:"Saldo",backgroundColor:"#00BFFF",data:[n.balance]},]},options:{responsive:!0,title:{display:!0,text:"Receitas x Despesas x Saldo"},scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{barPercentage:.5}]}}})}})});$(".month").on("change",function(){var n=$(".month").val();$.ajax({url:"/Incomes/MonthlyIncomesType",method:"POST",data:{id:n},success:function(n){$("canvas#IncomesType").remove();$("div.IncomesType").append('<canvas id="IncomesType" style="width:400px; height:400px"><\/canvas>');var t=document.getElementById("IncomesType").getContext("2d"),i=new Chart(t,{type:"doughnut",data:{labels:n.types,datasets:[{label:"Despesas por categoria",backgroundColor:Colors(n.types.length),hoverBackgroudColor:Colors(n.types.length),data:n.values}]},options:{responsive:!0,title:{display:!0,text:"Receitas por categoria"}}})}})});